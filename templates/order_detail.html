{% extends "base.html" %}
{% block title %}Order Detail{% endblock %}
{% block content %}
<h1 class="mb-4">注文詳細</h1>

<div class="card shadow-sm">
  <div class="card-body">
    <h5 class="card-title">Order #{{ order.id }}</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"><strong>Customer:</strong> {{ order.customer_name }}</li>
      <li class="list-group-item"><strong>Item:</strong> {{ order.product.name }}</li>
      <li class="list-group-item"><strong>Quantity:</strong> {{ order.quantity }}</li>
      <li class="list-group-item">
        <strong>Status:</strong>
        {% if order.status == "received" %}
          <span class="badge bg-primary">受注</span>
        {% elif order.status == "preparing" %}
          <span class="badge bg-warning text-dark">準備中</span>
        {% elif order.status == "shipped" %}
          <span class="badge bg-success">出荷済み</span>
        {% else %}
          <span class="badge bg-secondary">{{ order.status }}</span>
        {% endif %}
      </li>
      <li class="list-group-item"><strong>Desired Date:</strong> {{ order.desired_date }}</li>
      <li class="list-group-item"><strong>Note:</strong> {{ order.note }}</li>
      <li class="list-group-item"><strong>Created At:</strong> {{ order.created_at }}</li>
      <li class="list-group-item"><strong>Updated At:</strong> {{ order.updated_at }}</li>
    </ul>
  </div>
</div>

<div class="mt-3">
  <a href="{{ url_for('edit_order', order_id=order.id) }}" class="btn btn-warning btn-sm">編集</a>

  <form action="{{ url_for('delete_order', order_id=order.id) }}" method="post" class="d-inline">
    <button type="submit" class="btn btn-danger btn-sm"
            onclick="return confirm('本当に削除しますか？');">削除</button>
  </form>

  <a href="{{ url_for('orders') }}" class="btn btn-secondary btn-sm">← 注文一覧に戻る</a>
</div>
{% endblock %}
